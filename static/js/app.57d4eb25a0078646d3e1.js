webpackJsonp([1],{"65QE":function(e,t){},J373:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"app"},o,!1,function(e){n("tBG6")},null,null).exports,s=n("zL8q"),i=n.n(s),l=(n("tvR6"),n("/ocq")),u=n("Xxa5"),c=n.n(u),p=n("exGp"),d=n.n(p),f={data:function(){return{loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:10,message:"长度在3到10个字符区间",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:16,message:"长度在6到16个字符区间",trigger:"blur"}]}}},methods:{resetLoginFrom:function(){this.$refs.loginFormRef.resetFields()},verifyLoginInfo:function(){var e,t=this;this.$refs.loginFormRef.validate((e=d()(c.a.mark(function e(n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("login",t.loginForm);case 4:if(r=e.sent,console.log(r),200===r.data.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("登陆失败"));case 8:window.sessionStorage.setItem("token",r.data.data.token),t.$router.push("/home"),t.$message.success("登录成功");case 11:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_container"},[n("div",{staticClass:"login_box"},[n("el-form",{ref:"loginFormRef",staticClass:"login_from",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"0px"}},[n("h1",{staticClass:"login_title"},[e._v("ABCDEFGHIJ")]),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-user"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.verifyLoginInfo()}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.verifyLoginInfo()}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),n("el-form-item",{staticClass:"buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:e.verifyLoginInfo}},[e._v("Login")]),e._v(" "),n("el-button",{attrs:{type:"info"},on:{click:e.resetLoginFrom}},[e._v("Reset")])],1)],1)],1)])},staticRenderFns:[]};var g=n("VU/8")(f,m,!1,function(e){n("65QE")},"data-v-31fe3d44",null).exports,v={data:function(){return{menuList:[],iconList:["el-icon-user","el-icon-set-up","el-icon-goods","el-icon-s-order","el-icon-s-data"],isCollapse:!1}},created:function(){this.getMenuList()},methods:{userLogout:function(){window.sessionStorage.clear(),this.$router.push("/login")},getMenuList:function(){var e=this;return d()(c.a.mark(function t(){var n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("menus");case 2:if(n=t.sent,console.log(n),200===n.data.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error(n.data.meta.meg));case 6:e.menuList=n.data.data;case 7:case"end":return t.stop()}},t,e)}))()},toggleCollapse:function(){this.isCollapse=!this.isCollapse}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"home-container"},[n("el-header",[n("span",[e._v("ABCDEFGHIJ")]),e._v(" "),n("el-button",{attrs:{type:"info"},on:{click:e.userLogout}},[e._v("退出")])],1),e._v(" "),n("el-container",[n("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[n("div",{staticClass:"toggle-button",on:{click:e.toggleCollapse}},[e._v("|||")]),e._v(" "),n("el-menu",{attrs:{"background-color":"#333744","text-color":"#ffffff","default-active":e.$route.path,"unique-opened":"",router:"",collapse:e.isCollapse,"collapse-transition":!1}},e._l(e.menuList,function(t,r){return n("el-submenu",{key:t.id,attrs:{index:t.id+""}},[n("template",{slot:"title"},[n("i",{class:e.iconList[r]}),e._v(" "),n("span",[e._v(e._s(t.authName))])]),e._v(" "),e._l(t.children,function(t){return n("el-menu-item",{key:t.id,attrs:{index:"/"+t.path}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),e._v(" "),n("span",[e._v(e._s(t.authName))])])],2)})],2)}),1)],1),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)},staticRenderFns:[]};var _=n("VU/8")(v,h,!1,function(e){n("cXBl")},"data-v-c7804e80",null).exports,w={render:function(){var e=this.$createElement;return(this._self._c||e)("h3",[this._v("Welcome")])},staticRenderFns:[]},k=n("VU/8")(null,w,!1,null,null,null).exports;r.default.use(l.a);var x=new l.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:g},{path:"/home",component:_,redirect:"/welcome",children:[{path:"/welcome",component:k}]}]});x.beforeEach(function(e,t,n){return"/login"===e.path?n():window.sessionStorage.getItem("token")?void n():n("/login")});var b=x,F=(n("J373"),n("mtWM")),y=n.n(F);y.a.defaults.baseURL="https://www.liulongbin.top:8888/api/private/v1/",y.a.interceptors.request.use(function(e){return e.headers.Authorization=window.sessionStorage.getItem("token"),e}),r.default.prototype.$http=y.a,r.default.config.productionTip=!1,r.default.use(i.a),r.default.filter("dataFormat",function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1+"").padStart(2,"0")+"/"+(t.getDate()+"").padStart(2,"0")+" "+(t.getHours()+"").padStart(2,"0")+":"+(t.getMinutes()+"").padStart(2,"0")+":"+(t.getSeconds()+"").padStart(2,"0")}),new r.default({el:"#app",router:b,components:{App:a},template:"<App/>"})},cXBl:function(e,t){},tBG6:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.57d4eb25a0078646d3e1.js.map